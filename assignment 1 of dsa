Experiment 1: To Demonstrate the Use of Array, Structure, Union
and Dynamic Memory Allocation
Name: Tanay Pandey
SAP ID: 590026923
Batch:39
Course: B.Tech. CSE (Sem II)
Subject: DSA Lab
Date: 04 February 2026
Note: Do all the implementations in C programming.
1.	Write a C program to dynamically allocate memory for an array, display elements, and properly free allocated memory before program termination.
#include <stdio.h>
#include <stdlib.h>

int main() {
    int size, index;
    int *numbers;

    printf("Enter array size: ");
    scanf("%d", &size);

    numbers = (int *)malloc(size * sizeof(int));
    if (!numbers) {
        printf("Unable to allocate memory");
        return 0;
    }

    for (index = 0; index < size; index++) {
        printf("Element %d: ", index + 1);
        scanf("%d", &numbers[index]);
    }

    printf("Array values:\n");
    for (index = 0; index < size; index++)
        printf("%d ", numbers[index]);

    free(numbers);
    return 0;
}


2.	Write a C program to dynamically allocate memory for an array of N integers and perform insertion, display, sum, and average operations.
#include <stdio.h>
#include <stdlib.h>

int main() {
    int count, i, total = 0;
    float average;
    int *data;

    printf("Enter number of values: ");
    scanf("%d", &count);

    data = malloc(count * sizeof(int));

    for (i = 0; i < count; i++) {
        scanf("%d", &data[i]);
        total += data[i];
    }

    average = total / (float)count;

    printf("Stored values:\n");
    for (i = 0; i < count; i++)
        printf("%d ", data[i]);

    printf("\nTotal = %d", total);
    printf("\nAverage = %.2f", average);

    free(data);
    return 0;
}


3.	Write a C program to dynamically allocate an array and find the largest and smallest element.
#include <stdio.h>
#include <stdlib.h>

int main() {
    int n, i;
    int *arr, big, small;

    printf("Enter size: ");
    scanf("%d", &n);

    arr = malloc(n * sizeof(int));

    for (i = 0; i < n; i++)
        scanf("%d", &arr[i]);

    big = small = arr[0];

    for (i = 1; i < n; i++) {
        if (arr[i] > big)
            big = arr[i];
        if (arr[i] < small)
            small = arr[i];
    }

    printf("Maximum = %d\nMinimum = %d", big, small);

    free(arr);
    return 0;
}


4.	Write a C program to dynamically allocate memory for a 2D matrix and perform matrix addition and subtraction.
#include <stdio.h>
#include <stdlib.h>

int main() {
    int row, col, i, j;
    int **x, **y, **sum, **diff;

    printf("Enter rows and columns: ");
    scanf("%d %d", &row, &col);

    x = malloc(row * sizeof(int *));
    y = malloc(row * sizeof(int *));
    sum = malloc(row * sizeof(int *));
    diff = malloc(row * sizeof(int *));

    for (i = 0; i < row; i++) {
        x[i] = malloc(col * sizeof(int));
        y[i] = malloc(col * sizeof(int));
        sum[i] = malloc(col * sizeof(int));
        diff[i] = malloc(col * sizeof(int));
    }

    printf("Enter first matrix:\n");
    for (i = 0; i < row; i++)
        for (j = 0; j < col; j++)
            scanf("%d", &x[i][j]);

    printf("Enter second matrix:\n");
    for (i = 0; i < row; i++)
        for (j = 0; j < col; j++)
            scanf("%d", &y[i][j]);

    for (i = 0; i < row; i++)
        for (j = 0; j < col; j++) {
            sum[i][j] = x[i][j] + y[i][j];
            diff[i][j] = x[i][j] - y[i][j];
        }

    printf("Sum Matrix:\n");
    for (i = 0; i < row; i++) {
        for (j = 0; j < col; j++)
            printf("%d ", sum[i][j]);
        printf("\n");
    }

    printf("Difference Matrix:\n");
    for (i = 0; i < row; i++) {
        for (j = 0; j < col; j++)
            printf("%d ", diff[i][j]);
        printf("\n");
    }

    for (i = 0; i < row; i++) {
        free(x[i]); free(y[i]); free(sum[i]); free(diff[i]);
    }
    free(x); free(y); free(sum); free(diff);

    return 0;
}


5.	Write a C program using structure and dynamic memory allocation to store and display student details such as roll number, name, and marks.
#include <stdio.h>
#include <stdlib.h>

struct Student {
    int rollNo;
    char studentName[40];
    float score;
};

int main() {
    int n, i;
    struct Student *stu;

    printf("Number of students: ");
    scanf("%d", &n);

    stu = malloc(n * sizeof(struct Student));

    for (i = 0; i < n; i++) {
        scanf("%d", &stu[i].rollNo);
        scanf(" %[^\n]", stu[i].studentName);
        scanf("%f", &stu[i].score);
    }

    printf("Student Records:\n");
    for (i = 0; i < n; i++)
        printf("%d %s %.2f\n", stu[i].rollNo, stu[i].studentName, stu[i].score);

    free(stu);
    return 0;
}


6.	Write a C program using array of structures with dynamic memory allocation to store employee details and find the employee with the highest salary.
#include <stdio.h>
#include <stdlib.h>

struct Emp {
    int empId;
    char empName[40];
    float pay;
};

int main() {
    int n, i, top = 0;
    struct Emp *emp;

    scanf("%d", &n);
    emp = malloc(n * sizeof(struct Emp));

    for (i = 0; i < n; i++) {
        scanf("%d %s %f", &emp[i].empId, emp[i].empName, &emp[i].pay);
        if (emp[i].pay > emp[top].pay)
            top = i;
    }

    printf("Highest Salary Holder:\n");
    printf("%d %s %.2f", emp[top].empId, emp[top].empName, emp[top].pay);

    free(emp);
    return 0;
}


7.	Write a menu-driven C program using structure and dynamic memory allocation to add, display, delete records and free memory before exit.
#include <stdio.h>
#include <stdlib.h>

struct Item {
    int code;
};

int main() {
    struct Item *list = NULL;
    int choice, size = 0;

    while (1) {
        printf("\n1.Add 2.Show 3.Remove Last 4.Exit\n");
        scanf("%d", &choice);

        if (choice == 1) {
            list = realloc(list, (size + 1) * sizeof(struct Item));
            scanf("%d", &list[size].code);
            size++;
        } 
        else if (choice == 2) {
            for (int i = 0; i < size; i++)
                printf("%d ", list[i].code);
        } 
        else if (choice == 3 && size > 0) {
            size--;
            list = realloc(list, size * sizeof(struct Item));
        } 
        else if (choice == 4)
            break;
    }

    free(list);
    return 0;
}


8.	Write a C program to demonstrate the use of union by storing integer, float, and character data and explain memory sharing.
#include <stdio.h>

union Value {
    int num;
    float decimal;
    char letter;
};

int main() {
    union Value v;

    v.num = 25;
    printf("Integer: %d\n", v.num);

    v.decimal = 3.14;
    printf("Float: %.2f\n", v.decimal);

    v.letter = 'Z';
    printf("Character: %c\n", v.letter);

    return 0;
}


9.	Write a C program to show the difference in memory allocation between structure and union using sizeof().
#include <stdio.h>

struct DemoStruct {
    int a;
    float b;
    char c;
};

union DemoUnion {
    int a;
    float b;
    char c;
};

int main() {
    printf("Structure size: %lu\n", sizeof(struct DemoStruct));
    printf("Union size: %lu\n", sizeof(union DemoUnion));
    return 0;
}


10.	Write a C program using structure and dynamic memory allocation to sort student record based on marks.
#include <stdio.h>
#include <stdlib.h>

typedef struct {
    int id;
    char fullName[50];
    float score;
} Student;

int main() {
    int total, x, y;
    Student *list, swap;

    printf("How many students? ");
    scanf("%d", &total);

    list = (Student *)malloc(total * sizeof(Student));

    if (list == NULL) {
        printf("Memory not allocated.\n");
        return 1;
    }

    // Accept student data
    for (x = 0; x < total; x++) {
        printf("\nStudent %d details\n", x + 1);

        printf("ID: ");
        scanf("%d", &list[x].id);

        printf("Name: ");
        scanf(" %[^\n]", list[x].fullName);

        printf("Marks: ");
        scanf("%f", &list[x].score);
    }

    // Sort students by marks (ascending)
    for (x = 0; x < total - 1; x++) {
        for (y = x + 1; y < total; y++) {
            if (list[x].score > list[y].score) {
                swap = list[x];
                list[x] = list[y];
                list[y] = swap;
            }
        }
    }

    // Display sorted list
    printf("\nSorted Student Records (by Marks):\n");
    for (x = 0; x < total; x++) {
        printf("ID: %d | Name: %s | Marks: %.2f\n",
               list[x].id, list[x].fullName, list[x].score);
    }

    // Release memory
    free(list);

    return 0;
}

